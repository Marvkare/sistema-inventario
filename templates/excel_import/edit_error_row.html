{% extends "base.html" %}

{% block content %}
<div class="min-h-screen bg-gradient-to-br from-gray-50 to-beige-light/20 py-8 px-4">
    <div class="max-w-7xl mx-auto">
        <!-- Encabezado -->
        <div class="bg-white rounded-2xl shadow-xl border border-beige-light overflow-hidden mb-8">
            <div class="bg-gradient-to-r from-burgundy to-burgundy-dark p-6 text-white">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4">
                    <div>
                        <h1 class="text-2xl md:text-3xl font-bold">Corregir Fila de Importación</h1>
                        <p class="text-beige-light mt-2">
                            Estás editando la fila de error con ID: 
                            <span class="font-mono bg-beige/30 px-3 py-1 rounded-full text-beige-light">{{ error_id }}</span>
                        </p>
                    </div>
                    <div class="flex items-center space-x-2">
                        <div class="w-10 h-10 bg-beige rounded-full flex items-center justify-center">
                            <i class="fas fa-edit text-burgundy text-lg"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contenido Principal -->
        <div class="bg-white rounded-2xl shadow-lg border border-beige-light overflow-hidden">
            <div class="p-6 md:p-8">
                <!-- Mensaje de Error -->
                <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded-lg">
                    <div class="flex items-start">
                        <i class="fas fa-exclamation-triangle mt-1 mr-3"></i>
                        <div>
                            <p class="font-bold">Error Original:</p>
                            <p class="mt-1">{{ error_data.error_message }}</p>
                        </div>
                    </div>
                </div>

                <form method="POST" action="{{ url_for('excel_import.edit_error_row', error_id=error_id) }}" class="space-y-8">
                    
                    <!-- SECCIÓN: INFORMACIÓN GENERAL DEL BIEN -->
                    <div>
                        <div class="flex items-center mb-6">
                            <div class="w-8 h-8 bg-burgundy rounded-full flex items-center justify-center mr-3">
                                <i class="fas fa-box text-white text-sm"></i>
                            </div>
                            <h2 class="text-xl font-bold text-burgundy">Información General del Bien</h2>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- No. Inventario -->
                            <div>
                                <label for="No_Inventario" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-hashtag text-burgundy mr-2 text-xs"></i>
                                    No. de Inventario
                                </label>
                                <input type="text" 
                                       name="No_Inventario" 
                                       value="{{ error_data.No_Inventario or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Cantidad -->
                            <div>
                                <label for="Cantidad" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-cubes text-burgundy mr-2 text-xs"></i>
                                    Cantidad
                                </label>
                                <input type="number" 
                                       name="Cantidad" 
                                       value="{{ error_data.Cantidad or '' }}" 
                                       min="1"
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Descripción Corta -->
                            <div>
                                <label for="Descripcion_Corta_Del_Bien" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-align-left text-burgundy mr-2 text-xs"></i>
                                    Descripción Corta
                                </label>
                                <input type="text" 
                                       name="Descripcion_Corta_Del_Bien" 
                                       value="{{ error_data.Descripcion_Corta_Del_Bien or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Marca -->
                            <div>
                                <label for="Marca" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-tag text-burgundy mr-2 text-xs"></i>
                                    Marca
                                </label>
                                <input type="text" 
                                       name="Marca" 
                                       value="{{ error_data.Marca or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Modelo -->
                            <div>
                                <label for="Modelo" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-cube text-burgundy mr-2 text-xs"></i>
                                    Modelo
                                </label>
                                <input type="text" 
                                       name="Modelo" 
                                       value="{{ error_data.Modelo or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Número de Serie -->
                            <div>
                                <label for="Numero_De_Serie" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-barcode text-burgundy mr-2 text-xs"></i>
                                    Número de Serie
                                </label>
                                <input type="text" 
                                       name="Numero_De_Serie" 
                                       value="{{ error_data.Numero_De_Serie or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Estado del Bien -->
                            <div>
                                <label for="Estado_Del_Bien" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-clipboard-check text-burgundy mr-2 text-xs"></i>
                                    Estado del Bien
                                </label>
                                <select name="Estado_Del_Bien" 
                                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                                    <option value="">Seleccione...</option>
                                    <option value="Nuevo" {% if error_data.Estado_Del_Bien == 'Nuevo' %}selected{% endif %}>Nuevo</option>
                                    <option value="Bueno" {% if error_data.Estado_Del_Bien == 'Bueno' %}selected{% endif %}>Bueno</option>
                                    <option value="Regular" {% if error_data.Estado_Del_Bien == 'Regular' %}selected{% endif %}>Regular</option>
                                    <option value="Malo" {% if error_data.Estado_Del_Bien == 'Malo' %}selected{% endif %}>Malo</option>
                                </select>
                            </div>

                            <!-- Tipo de Alta -->
                            <div>
                                <label for="Tipo_De_Alta" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-sign-in-alt text-burgundy mr-2 text-xs"></i>
                                    Tipo de Alta
                                </label>
                                <select name="Tipo_De_Alta" 
                                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                                    <option value="">Seleccione...</option>
                                    <option value="Compra" {% if error_data.Tipo_De_Alta == 'Compra' %}selected{% endif %}>Compra</option>
                                    <option value="Donacion" {% if error_data.Tipo_De_Alta == 'Donacion' %}selected{% endif %}>Donación</option>
                                    <option value="Comodato" {% if error_data.Tipo_De_Alta == 'Comodato' %}selected{% endif %}>Comodato</option>
                                </select>
                            </div>

                            <!-- Clasificación Legal -->
                            <div>
                                <label for="Clasificacion_Legal" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-balance-scale text-burgundy mr-2 text-xs"></i>
                                    Clasificación Legal
                                </label>
                                <select name="Clasificacion_Legal" 
                                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                                    <option value="">Seleccione...</option>
                                    <option value="Dominio Público" {% if error_data.Clasificacion_Legal == 'Dominio Público' %}selected{% endif %}>Dominio Público</option>
                                    <option value="Dominio Privado" {% if error_data.Clasificacion_Legal == 'Dominio Privado' %}selected{% endif %}>Dominio Privado</option>
                                </select>
                            </div>

                            <!-- Área Presupuestal -->
                            <div>
                                <label for="Area_Presupuestal" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-chart-pie text-burgundy mr-2 text-xs"></i>
                                    Área Presupuestal
                                </label>
                                <input type="text" 
                                       name="Area_Presupuestal" 
                                       value="{{ error_data.Area_Presupuestal or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Descripción Completa -->
                            <div class="md:col-span-3">
                                <label for="Descripcion_Del_Bien" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-align-left text-burgundy mr-2 text-xs"></i>
                                    Descripción Completa del Bien
                                </label>
                                <textarea name="Descripcion_Del_Bien" 
                                          rows="4"
                                          class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80 resize-none">{{ error_data.Descripcion_Del_Bien or '' }}</textarea>
                            </div>
                        </div>
                    </div>

                    <!-- SECCIÓN: DATOS FINANCIEROS Y CONTABLES -->
                    <div>
                        <div class="flex items-center mb-6">
                            <div class="w-8 h-8 bg-burgundy rounded-full flex items-center justify-center mr-3">
                                <i class="fas fa-dollar-sign text-white text-sm"></i>
                            </div>
                            <h2 class="text-xl font-bold text-burgundy">Datos Financieros y Contables</h2>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- No. Factura -->
                            <div>
                                <label for="No_Factura" class="block text-sm font-semibold text-gray-700 mb-2">No. de Factura</label>
                                <input type="text" 
                                       name="No_Factura" 
                                       value="{{ error_data.No_Factura or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Fecha Factura -->
                            <div>
                                <label for="Fecha_Factura" class="block text-sm font-semibold text-gray-700 mb-2">Fecha de Factura</label>
                                <input type="date" 
                                       name="Fecha_Factura" 
                                       value="{{ error_data.Fecha_Factura or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Costo Inicial -->
                            <div>
                                <label for="Costo_Inicial" class="block text-sm font-semibold text-gray-700 mb-2">Costo Inicial</label>
                                <input type="number" 
                                       step="0.01" 
                                       name="Costo_Inicial" 
                                       value="{{ error_data.Costo_Inicial or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Depreciación Acumulada -->
                            <div>
                                <label for="Depreciacion_Acumulada" class="block text-sm font-semibold text-gray-700 mb-2">Depreciación Acumulada</label>
                                <input type="number" 
                                       step="0.01" 
                                       name="Depreciacion_Acumulada" 
                                       value="{{ error_data.Depreciacion_Acumulada or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Costo Final -->
                            <div>
                                <label for="Costo_Final" class="block text-sm font-semibold text-gray-700 mb-2">Costo Final</label>
                                <input type="number" 
                                       step="0.01" 
                                       name="Costo_Final" 
                                       value="{{ error_data.Costo_Final or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Valor en Libros -->
                            <div>
                                <label for="Valor_En_Libros" class="block text-sm font-semibold text-gray-700 mb-2">Valor en Libros</label>
                                <input type="number" 
                                       step="0.01" 
                                       name="Valor_En_Libros" 
                                       value="{{ error_data.Valor_En_Libros or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Póliza -->
                            <div>
                                <label for="Poliza" class="block text-sm font-semibold text-gray-700 mb-2">Póliza</label>
                                <input type="text" 
                                       name="Poliza" 
                                       value="{{ error_data.Poliza or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Fecha Póliza -->
                            <div>
                                <label for="Fecha_Poliza" class="block text-sm font-semibold text-gray-700 mb-2">Fecha de Póliza</label>
                                <input type="date" 
                                       name="Fecha_Poliza" 
                                       value="{{ error_data.Fecha_Poliza or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- No. Cuenta -->
                            <div>
                                <label for="No_Cuenta" class="block text-sm font-semibold text-gray-700 mb-2">No. de Cuenta</label>
                                <input type="text" 
                                       name="No_Cuenta" 
                                       value="{{ error_data.No_Cuenta or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Subcuenta Armonizadora -->
                            <div>
                                <label for="Sub_Cuenta_Armonizadora" class="block text-sm font-semibold text-gray-700 mb-2">Subcuenta Armonizadora</label>
                                <input type="text" 
                                       name="Sub_Cuenta_Armonizadora" 
                                       value="{{ error_data.Sub_Cuenta_Armonizadora or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Rubro -->
                            <div>
                                <label for="Rubro" class="block text-sm font-semibold text-gray-700 mb-2">Rubro</label>
                                <input type="text" 
                                       name="Rubro" 
                                       value="{{ error_data.Rubro or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Proveedor -->
                            <div>
                                <label for="Proveedor" class="block text-sm font-semibold text-gray-700 mb-2">Proveedor</label>
                                <input type="text" 
                                       name="Proveedor" 
                                       value="{{ error_data.Proveedor or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>
                        </div>
                    </div>

                    <!-- SECCIÓN: INFORMACIÓN ADICIONAL DEL BIEN -->
                    <div>
                        <div class="flex items-center mb-6">
                            <div class="w-8 h-8 bg-burgundy rounded-full flex items-center justify-center mr-3">
                                <i class="fas fa-file-alt text-white text-sm"></i>
                            </div>
                            <h2 class="text-xl font-bold text-burgundy">Información Adicional del Bien</h2>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Documento de Propiedad -->
                            <div>
                                <label for="Documento_Propiedad" class="block text-sm font-semibold text-gray-700 mb-2">Documento de Propiedad</label>
                                <input type="text" 
                                       name="Documento_Propiedad" 
                                       value="{{ error_data.Documento_Propiedad or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Fecha Documento Propiedad -->
                            <div>
                                <label for="Fecha_Documento_Propiedad" class="block text-sm font-semibold text-gray-700 mb-2">Fecha del Documento</label>
                                <input type="date" 
                                       name="Fecha_Documento_Propiedad" 
                                       value="{{ error_data.Fecha_Documento_Propiedad or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Fecha Adquisición/Alta -->
                            <div>
                                <label for="Fecha_Adquisicion_Alta" class="block text-sm font-semibold text-gray-700 mb-2">Fecha de Adquisición/Alta</label>
                                <input type="date" 
                                       name="Fecha_Adquisicion_Alta" 
                                       value="{{ error_data.Fecha_Adquisicion_Alta or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>
                        </div>
                    </div>

                    <!-- SECCIÓN: DATOS DEL RESGUARDO -->
                    <div>
                        <div class="flex items-center mb-6">
                            <div class="w-8 h-8 bg-burgundy rounded-full flex items-center justify-center mr-3">
                                <i class="fas fa-user-shield text-white text-sm"></i>
                            </div>
                            <h2 class="text-xl font-bold text-burgundy">Datos del Resguardo</h2>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Área -->
                            <div>
                                <label for="Area" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-building text-burgundy mr-2 text-xs"></i>
                                    Área *
                                </label>
                                <select name="Area" 
                                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80" required>
                                    <option value="">Selecciona un área</option>
                                    {% for area_name in areas %}
                                        <option value="{{ area_name }}" {% if error_data.Area == area_name %}selected{% endif %}>{{ area_name }}</option>
                                    {% endfor %}
                                </select>
                            </div>

                            <!-- No. Resguardo -->
                            <div>
                                <label for="No_Resguardo" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-file-alt text-burgundy mr-2 text-xs"></i>
                                    No. de Resguardo
                                </label>
                                <input type="text" 
                                       name="No_Resguardo" 
                                       value="{{ error_data.No_Resguardo or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Ubicación -->
                            <div>
                                <label for="Ubicacion" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-map-marker-alt text-burgundy mr-2 text-xs"></i>
                                    Ubicación Física
                                </label>
                                <input type="text" 
                                       name="Ubicacion" 
                                       value="{{ error_data.Ubicacion or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Tipo de Resguardo -->
                            <div>
                                <label for="Tipo_De_Resguardo" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-shield-alt text-burgundy mr-2 text-xs"></i>
                                    Tipo de Resguardo
                                </label>
                                <select name="Tipo_De_Resguardo" 
                                        class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                                    <option value="0" {% if error_data.Tipo_De_Resguardo == 0 %}selected{% endif %}>Resguardo Normal</option>
                                    <option value="1" {% if error_data.Tipo_De_Resguardo == 1 %}selected{% endif %}>Sujeto de Control</option>
                                </select>
                            </div>

                            <!-- Fecha Resguardo -->
                            <div>
                                <label for="Fecha_Resguardo" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-calendar-alt text-burgundy mr-2 text-xs"></i>
                                    Fecha de Resguardo
                                </label>
                                <input type="date" 
                                       name="Fecha_Resguardo" 
                                       value="{{ error_data.Fecha_Resguardo or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>
                        </div>
                    </div>

                    <!-- SECCIÓN: INFORMACIÓN DEL RESGUARDANTE -->
                    <div>
                        <div class="flex items-center mb-6">
                            <div class="w-8 h-8 bg-burgundy rounded-full flex items-center justify-center mr-3">
                                <i class="fas fa-user text-white text-sm"></i>
                            </div>
                            <h2 class="text-xl font-bold text-burgundy">Información del Resguardante</h2>
                        </div>
                        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Nombre Resguardante -->
                            <div>
                                <label for="Nombre_Del_Resguardante" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-user text-burgundy mr-2 text-xs"></i>
                                    Nombre del Resguardante
                                </label>
                                <input type="text" 
                                       name="Nombre_Del_Resguardante" 
                                       value="{{ error_data.Nombre_Del_Resguardante or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Puesto -->
                            <div>
                                <label for="Puesto_Trabajador" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-briefcase text-burgundy mr-2 text-xs"></i>
                                    Puesto del Resguardante
                                </label>
                                <input type="text" 
                                       name="Puesto_Trabajador" 
                                       value="{{ error_data.get('Puesto', error_data.get('Puesto_Trabajador', '')) }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- RFC -->
                            <div>
                                <label for="RFC_Trabajador" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-id-card text-burgundy mr-2 text-xs"></i>
                                    RFC del Resguardante
                                </label>
                                <input type="text" 
                                       name="RFC_Trabajador" 
                                       value="{{ error_data.RFC_Trabajador or '' }}" 
                                       maxlength="13"
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- No. Trabajador -->
                            <div>
                                <label for="No_Trabajador" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-id-badge text-burgundy mr-2 text-xs"></i>
                                    No. de Trabajador
                                </label>
                                <input type="text" 
                                       name="No_Trabajador" 
                                       value="{{ error_data.No_Trabajador or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- No. Nómina -->
                            <div>
                                <label for="No_Nomina_Trabajador" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-money-check text-burgundy mr-2 text-xs"></i>
                                    No. de Nómina
                                </label>
                                <input type="number" 
                                       name="No_Nomina_Trabajador" 
                                       value="{{ error_data.No_Nomina_Trabajador or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>

                            <!-- Nombre Director/Jefe -->
                            <div class="md:col-span-2">
                                <label for="Nombre_Director_Jefe_De_Area" class="block text-sm font-semibold text-gray-700 mb-2 flex items-center">
                                    <i class="fas fa-user-tie text-burgundy mr-2 text-xs"></i>
                                    Nombre Director/Jefe de Área
                                </label>
                                <input type="text" 
                                       name="Nombre_Director_Jefe_De_Area" 
                                       value="{{ error_data.Nombre_Director_Jefe_De_Area or '' }}" 
                                       class="w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-burgundy/50 focus:border-burgundy transition-all duration-200 bg-white/80">
                            </div>
                        </div>
                    </div>

                    <!-- Botones de Acción -->
                    <div class="flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-beige-light">
                        <a href="{{ url_for('excel_import.handle_errors') }}" 
                           class="inline-flex items-center justify-center px-6 py-3 border-2 border-beige text-base font-semibold rounded-xl text-burgundy bg-white hover:bg-beige-light/30 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-burgundy transition-all duration-200 ease-in-out order-2 sm:order-1">
                            <i class="fas fa-times mr-2"></i> Cancelar
                        </a>
                        <button type="submit" 
                                class="inline-flex items-center justify-center px-6 py-3 border border-transparent text-base font-semibold rounded-xl shadow-sm text-white bg-gradient-to-r from-burgundy to-burgundy-dark hover:from-burgundy-dark hover:to-burgundy focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-burgundy transition-all duration-200 ease-in-out order-1 sm:order-2">
                            <i class="fas fa-save mr-2"></i> Guardar Corrección
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block styles %}
<style>
    .bg-burgundy { background-color: #6A2E4D; }
    .bg-burgundy-dark { background-color: #551E3A; }
    .text-burgundy { color: #6A2E4D; }
    .border-burgundy { border-color: #6A2E4D; }
    .focus\:ring-burgundy\/50:focus { --tw-ring-color: rgb(106 46 77 / 0.5); }
    .focus\:border-burgundy:focus { border-color: #6A2E4D; }
    
    .bg-beige { background-color: #BC9B6A; }
    .bg-beige-light { background-color: #D7C3A0; }
    .text-beige-light { color: #D7C3A0; }
    .border-beige { border-color: #BC9B6A; }
    .border-beige-light { border-color: #D7C3A0; }
    
    .from-burgundy { --tw-gradient-from: #6A2E4D; --tw-gradient-to: rgb(106 46 77 / 0); --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to); }
    .to-burgundy-dark { --tw-gradient-to: #551E3A; }
    
    input:focus, select:focus, textarea:focus {
        outline: none;
        box-shadow: 0 0 0 2px rgb(106 46 77 / 0.1);
    }
</style>
{% endblock %}